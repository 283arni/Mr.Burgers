!function(){const e=document.querySelectorAll(".accordeon__item");for(item of e)item.addEventListener("click",n);const t=document.querySelectorAll(".accordeon__list");for(itemMenu of t)itemMenu.addEventListener("click",n);function n(n){n.preventDefault();const c=n.currentTarget;c.classList.contains("active")?(o(e),o(t)):(o(e),o(t),function(e){const t=e.querySelector(".accordeon__who"),n=e.querySelector(".accordeon__desc-hid");e.classList.add("active"),t?t.style.height="100%":n.style.width="100%"}(c))}function o(t){Array.from(t).forEach(n=>{n.classList.remove("active"),t==e?n.querySelector(".accordeon__who").style.height=0:n.querySelector(".accordeon__desc-hid").style.width=0})}}(),function(){const e=$(".hero__svg");var t=e.offset().left,n=e.offset().top;document.body.clientWidth>768&&$(".hero").mousemove(function(o){var c=o.pageY;!function(o,c){var i=(o-t)/100+"px",r=(c-n)/50+"px";e.css({left:i,top:r})}(o.pageX,c)})}(),ymaps.ready(init);var myPlacemarks=[{coords:59.938433,coords2:30.306681,hint:"Бургеры на Адмиралтейской набережной, 10"},{coords:59.966402,coords2:30.311461,hint:"Бургеры на Каменноостровском проспекте, 37"},{coords:59.946715,coords2:30.434368,hint:"Бургеры на проспекте Энергетиков, 16"}];function init(){var e=new ymaps.Map("map",{center:[59.939095,30.315868],zoom:12,controls:["geolocationControl","zoomControl","searchControl"]});e.behaviors.disable("scrollZoom"),myPlacemarks.forEach(function(t){var n=new ymaps.Placemark([t.coords,t.coords2],{hintContent:t.hint},{iconLayout:"default#image",iconImageHref:"/images/contacts/map-marker.svg",iconImageSize:[46,57]});e.geoObjects.add(n)})}!function(){const e=document.querySelector(".nav__little"),t=document.querySelector(".hamburger"),n=document.querySelector(".hamburger .close__link");e.addEventListener("click",function(e){e.preventDefault(),t.style.display="flex"}),n.addEventListener("click",function(e){e.preventDefault(),t.style.display="none"}),t.addEventListener("click",function(e){e.target===t&&n.click()}),$("[data-skroll]").on("click",function(e){t.style.display="none"})}(),function(){const e=document.querySelector("#modal-popup").innerHTML,t=document.querySelectorAll(".btn_phone"),n=document.querySelectorAll(".btn_black"),o=document.querySelector(".comments__story");document.querySelector(".popup__message");for(i=0;i<t.length;i++)t[i].addEventListener("click",function(e){e.preventDefault();const t=c(o.innerHTML);document.body.appendChild(t)});for(i=0;i<n.length;i++)n[i].addEventListener("click",function(e){e.preventDefault();const t=c(o.innerHTML);document.body.appendChild(t)});function c(t){const n=document.createElement("div");n.classList.add("popup"),n.innerHTML=e,n.querySelector(".popup__message").innerHTML=t;const o=n.querySelector(".close__popup .close__link");return o.addEventListener("click",e=>{e.preventDefault(),document.body.removeChild(n)}),n.addEventListener("click",e=>{e.target===n&&o.click()}),n}const r=/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\-]?)?[\d\- ]{7,10}$/,a=/^[а-яА-Я]{2,30}|[a-zA-Z]{2,30}$/,l=/^[А-Яа-я0-9\.,!\?\-@]+$/,s=document.querySelector("#form");function d(e,t){e.nextElementSibling.style.display="block",e.nextElementSibling.textContent=t}function u(e){e.nextElementSibling.style.display="none"}s.addEventListener("submit",t=>{t.preventDefault();if(function(e){if(s.name&&!a.test(s.name.value)){const t="Введите адекватное имя. Пример: Степан, Billy, Иоган.";d(s.name,t),e=!1}else u(s.name);if(s.phone&&!r.test(s.phone.value)){const t="Введите верный номер телефона. Пример: +7 123 456 78 90, 1234567890.";d(s.phone,t),e=!1}else u(s.phone);if(s.comment&&!l.test(s.comment.value)){const t="Введите комментарий. Не больше 150 символов. Разрешено только кириллица, символы ! , . ? - @.";d(s.comment,t),e=!1}else u(s.comment);return e}(!0)){const t=new FormData(s);t.append("to","mail@mail.com");const n=new XMLHttpRequest;n.open("POST","https://webdev-api.loftschool.com/sendmail"),n.send(t),n.addEventListener("load",()=>{const t=function(t){const n=document.createElement("div"),o=document.createElement("input");return n.classList.add("popup"),n.innerHTML=e,n.querySelector(".popup__message").innerHTML=t,n.firstElementChild.firstElementChild.remove(),o.classList.add("btn","btn_modal"),o.type="submit",o.value="Закрыть",n.firstElementChild.appendChild(o),n}(JSON.parse(n.responseText).message);n.status>=400?document.body.appendChild("Что-то сломалось..."):(document.body.appendChild(t),function(e){document.querySelector(".btn_modal").addEventListener("click",t=>{t.preventDefault(),document.body.removeChild(e)})}(t))})}})}(),$(document).ready(function(){var e=$(".wrapper"),t=$(".section"),n=$(".maincontainer");function o(e){$(".nav-sections__circle").removeClass("active").eq(e).addClass("active")}function c(e){1==e||6==e||8==e?($(".nav-sections__point").css("background-color","#2f3234"),$(".nav-sections__circle").css("border-color","transparent"),$(".nav-sections__circle.active").css("border-color","#2f3234")):($(".nav-sections__point").css("background-color","#fff"),$(".nav-sections__circle").css("border-color","transparent"),$(".nav-sections__circle.active").css("border-color","#fff"))}var i=!1;function r(e,t){let n=$(".nav-sections__circle").filter(".active");40!=e&&"up"!=t||n.next().click(),38!=e&&"down"!=t||n.prev().click()}e.on("wheel",function(e){if(e.preventDefault(),!1===i){i=!0;var r,a=t.filter(".active"),l=a.next(),s=a.prev();function d(e,t){n.animate({bottom:100*e+"vh"},700,function(){a.removeClass("active"),c(e)})}e.originalEvent.deltaY>0?(l.length?(r=l.index(),l.addClass("active")):(r=t.first().index(),t.first().addClass("active")),d(r),o(r)):(s.length?(r=s.index(),s.addClass("active")):(r=t.last().index(),t.last().addClass("active")),d(r),o(r))}setTimeout(()=>{i=!1},1500)}),$("[data-skroll]").on("click",function(e){e.preventDefault();const i=$(this).attr("data-skroll");var r;t.removeClass("active"),$(".section").eq(i).addClass("active"),r=i,n.animate({bottom:100*r+"vh"},700,function(){}),o(i),c(i)}),$(document).on("keydown",e=>{switch(e.keyCode){case 40:case 38:e.preventDefault(),r(e.keyCode)}}),new MobileDetect(window.navigator.userAgent).mobile()&&$(".maincontainer").swipe({swipe:function(e,t){r("",t)}})});const video=document.querySelector(".video__burger"),player=document.querySelector(".video__controls"),play=document.querySelector(".video__start"),trackDot=document.querySelector(".video__track-dot"),track=document.querySelector(".video__line"),volume=document.querySelector(".video__volume"),volumeTrack=document.querySelector(".video__volume-line"),volumeDot=document.querySelector(".video__volume-dot"),playScreen=document.querySelector(".video__play-screen");function defaultVolume(){const e=video.volume=.2;volumeDot.style.left=Math.floor(e*volumeTrack.clientWidth)+"px"}function playPause(){video.paused?video.play():video.pause(),player.classList.toggle("pause")}function timeUpdate(){const e=Math.floor(video.currentTime)/Math.floor(video.duration);trackDot.style.left=`${Math.floor(e*track.clientWidth)}px`}function setCurrentTime(e){const t=e.offsetX/track.clientWidth;video.currentTime=t*video.duration}function muted(e){e.currentTarget.classList.toggle("mute"),video.muted=!video.muted}function setVolume(e){volumeDot.style.left=`${e.offsetX}px`,video.volume=e.offsetX/e.currentTarget.clientWidth}video.addEventListener("canplaythrough",function(){defaultVolume()}),play.addEventListener("click",function(){playPause()}),playScreen.addEventListener("click",function(){playPause()}),video.addEventListener("timeupdate",function(){timeUpdate()}),track.addEventListener("click",function(e){setCurrentTime(e)}),volume.addEventListener("click",function(e){muted(e)}),volumeTrack.addEventListener("click",function(e){setVolume(e)}),$(document).ready(function(){$(".burgers__btn").on("click",function(e){e.preventDefault();var t,n,o=$(".burgers__window"),c=$(".burgers__slider-item",o),i=c.filter(".active");$(this).hasClass("burgers__right")&&(t=i.next(),n=c.first()),$(this).hasClass("burgers__left")&&(t=i.prev(),n=c.last()),function(e,t){$(this);var n=e.find(".burgers__slider-item"),o=n.filter(".active"),c=n.eq(t),i=c.index(),r=e.find(".burgers__slider");c.length&&r.animate({right:100*i+"%"},"fast",function(){o.removeClass("active"),c.addClass("active")})}(o,t.length?t.index():n.index())})});